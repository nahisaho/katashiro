# KATASHIRO - Claude Codeå°‚ç”¨ã‚¬ã‚¤ãƒ‰

> ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯Claude CodeãŒKATASHIROã‚µãƒ¼ãƒ“ã‚¹ã‚’è‡ªç„¶è¨€èªã§åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## ğŸ¯ KATASHIROã¨ã¯

KATASHIROã¯æƒ…å ±åé›†ãƒ»åˆ†æãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚’è¡Œã†MCPã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ä»¥ä¸‹ã®ã‚ˆã†ãªä¾é ¼ãŒã‚ã£ãŸå ´åˆã€KATASHIROã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ“ è‡ªç„¶è¨€èª â†’ ãƒ„ãƒ¼ãƒ«å¯¾å¿œè¡¨

### ã€Œã€œã«ã¤ã„ã¦èª¿ã¹ã¦ã€ã€Œæ¤œç´¢ã—ã¦ã€

```
katashiro_search ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€ŒTypeScriptã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«ã¤ã„ã¦èª¿ã¹ã¦ã€
- ã€Œ2026å¹´ã®AIãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æ¤œç´¢ã—ã¦ã€
- ã€Œã€‡ã€‡ç¤¾ã®æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’èª¿ã¹ã¦ã€

### ã€Œã“ã®URLã®å†…å®¹ã‚’å–å¾—ã—ã¦ã€ã€Œã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦ã€

```
katashiro_scrape ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œhttps://example.com ã®å†…å®¹ã‚’å–å¾—ã—ã¦ã€
- ã€Œã“ã®ãƒšãƒ¼ã‚¸ã®æœ¬æ–‡ã‚’æŠ½å‡ºã—ã¦ã€

### ã€Œåˆ†æã—ã¦ã€ã€Œã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã¦ã€

```
katashiro_analyze ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã®æ–‡ç« ã‚’åˆ†æã—ã¦ã€
- ã€Œãƒ†ã‚­ã‚¹ãƒˆã®è¤‡é›‘åº¦ã‚’èª¿ã¹ã¦ã€
- ã€Œé‡è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã¦ã€

### ã€Œäººåãƒ»çµ„ç¹”åã‚’æŠ½å‡ºã—ã¦ã€ã€Œå›ºæœ‰è¡¨ç¾ã‚’è¦‹ã¤ã‘ã¦ã€

```
katashiro_extract_entities ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã®è¨˜äº‹ã«å‡ºã¦ãã‚‹äººåã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã€
- ã€Œçµ„ç¹”åã¨åœ°åã‚’æŠ½å‡ºã—ã¦ã€

### ã€Œãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ã€ã€Œã¾ã¨ã‚ã¦ã€

```
katashiro_generate_report ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œèª¿æŸ»çµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã«ã¾ã¨ã‚ã¦ã€
- ã€Œåˆ†æçµæœã‹ã‚‰ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ã€

### ã€Œè¦ç´„ã—ã¦ã€ã€Œã€œæ–‡å­—ã§ã¾ã¨ã‚ã¦ã€

```
katashiro_summarize ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã®é•·æ–‡ã‚’è¦ç´„ã—ã¦ã€
- ã€Œ300æ–‡å­—ä»¥å†…ã§ã¾ã¨ã‚ã¦ã€
- ã€Œ3è¡Œã§è¦ç‚¹ã‚’ã¾ã¨ã‚ã¦ã€

### ã€ŒçŸ¥è­˜ã‚°ãƒ©ãƒ•ã«è¿½åŠ ã—ã¦ã€ã€Œä¿å­˜ã—ã¦ã€

```
katashiro_knowledge_add ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã®æƒ…å ±ã‚’çŸ¥è­˜ã‚°ãƒ©ãƒ•ã«ç™»éŒ²ã—ã¦ã€
- ã€Œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä¿å­˜ã—ã¦ã€

### ã€ŒçŸ¥è­˜ã‚°ãƒ©ãƒ•ã‹ã‚‰æ¤œç´¢ã—ã¦ã€ã€Œé–¢é€£æƒ…å ±ã‚’æ¢ã—ã¦ã€

```
katashiro_knowledge_query ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã€‡ã€‡ã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‹ã‚‰æ¤œç´¢ã—ã¦ã€
- ã€Œä¿å­˜ã—ãŸæƒ…å ±ã‚’æ¤œç´¢ã—ã¦ã€

### ã€Œãƒªãƒˆãƒ©ã‚¤ä»˜ãã§å–å¾—ã—ã¦ã€ã€Œã‚¨ãƒ©ãƒ¼è€æ€§ã‚’æŒã£ã¦ã€ï¼ˆv2.2.0ï¼‰

```
RetryHandler ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œãƒªãƒˆãƒ©ã‚¤ä»˜ãã§URLã‚’å–å¾—ã—ã¦ã€
- ã€Œã‚¨ãƒ©ãƒ¼æ™‚ã«è‡ªå‹•å†è©¦è¡Œã—ã¦ã€

### ã€Œã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å–å¾—ã—ã¦ã€ã€Œãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä½¿ã£ã¦ã€ï¼ˆv2.2.0ï¼‰

```
FallbackHandler, WaybackMachineClient ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å–å¾—ã—ã¦ã€
- ã€ŒWayback Machineã§éå»ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—ã€

### ã€Œä¸¦åˆ—ã§å‡¦ç†ã—ã¦ã€ã€Œé«˜é€Ÿã«å–å¾—ã—ã¦ã€ï¼ˆv2.2.0ï¼‰

```
ParallelExecutor, DomainRateLimiter ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã‚Œã‚‰ã®URLã‚’ä¸¦åˆ—ã§å‡¦ç†ã—ã¦ã€
- ã€Œé«˜é€Ÿã«è¤‡æ•°ãƒšãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦ã€

### ã€Œãƒ­ã‚°ã‚’æ§‹é€ åŒ–ã—ã¦ã€ã€Œæ©Ÿå¯†æƒ…å ±ã‚’ãƒã‚¹ã‚¯ã—ã¦ã€ï¼ˆv2.2.0ï¼‰

```
StructuredLogger, SensitiveDataMasker ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œå‡¦ç†ãƒ­ã‚°ã‚’JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ã€
- ã€Œãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚¹ã‚¯ã—ã¦ãƒ­ã‚°å‡ºåŠ›ã€

### ã€Œrobots.txtã‚’ç¢ºèªã—ã¦ã€ã€Œã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯ã‚’ç¢ºèªã€ï¼ˆv2.2.0ï¼‰

```
RobotsParser ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œã“ã®URLã¯ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã‹ç¢ºèªã—ã¦ã€
- ã€Œrobots.txtã®ãƒ«ãƒ¼ãƒ«ã‚’å–å¾—ã—ã¦ã€

### ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã£ã¦ã€ã€Œãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä¿å­˜ã€ï¼ˆv2.2.0ï¼‰

```
ContentManager, ContentCache, CheckpointManager ã‚’ä½¿ç”¨
```

ä¾‹:
- ã€Œå–å¾—æ¸ˆã¿ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰ä½¿ã£ã¦ã€
- ã€Œèª¿æŸ»ã®é€”ä¸­çŠ¶æ…‹ã‚’ä¿å­˜ã—ã¦ã€
- ã€Œå‰å›ã®ç¶šãã‹ã‚‰å†é–‹ã—ã¦ã€

---

## ğŸ¤– DeepResearchAgentï¼ˆv2.1.0ï¼‰

### ã€Œè©³ã—ãèª¿ã¹ã¦ã€ã€Œå¾¹åº•çš„ã«ãƒªã‚µãƒ¼ãƒã—ã¦ã€ã€Œè‡ªå¾‹çš„ã«èª¿æŸ»ã—ã¦ã€

jina-ai/node-DeepResearché¢¨ã®åå¾©å‹ãƒªã‚µãƒ¼ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚5ç¨®é¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆsearch, visit, reflect, answer, codingï¼‰ã‚’è‡ªå¾‹çš„ã«çµ„ã¿åˆã‚ã›ã¦èª¿æŸ»ã‚’è¡Œã„ã¾ã™ã€‚

```typescript
import { DeepResearchAgent, WebSearchClient, WebScraper } from '@nahisaho/katashiro';

// ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½œæˆ
const agent = new DeepResearchAgent({
  llmClient,  // LLMClientInterfaceï¼ˆchat()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ï¼‰
  searchClient: new WebSearchClient(),
  scraper: new WebScraper(),
  config: {
    maxSteps: 30,        // æœ€å¤§ã‚¹ãƒ†ãƒƒãƒ—æ•°
    tokenBudget: 500000, // ãƒˆãƒ¼ã‚¯ãƒ³äºˆç®—
  },
});

// ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ç›£è¦–
agent.on((event) => {
  console.log(`[${event.type}]`, event.data);
});

// ãƒªã‚µãƒ¼ãƒå®Ÿè¡Œ
const result = await agent.research('AIã®åŒ»ç™‚åˆ†é‡ã¸ã®å½±éŸ¿ã¯ï¼Ÿ');
console.log('Answer:', result.answer);
console.log('Confidence:', result.confidence);
```

**å›ç­”å“è³ªè©•ä¾¡ï¼ˆ5åŸºæº–ï¼‰:**
- `Freshness`: æƒ…å ±ã®æ–°ã—ã•
- `Plurality`: è¦–ç‚¹ã®å¤šæ§˜æ€§
- `Completeness`: ç¶²ç¾…æ€§
- `Attribution`: æ ¹æ‹ ã®æ˜ç¢ºã•
- `Definitive`: æ˜ç¢ºã•

---

## ğŸ¯ Deep Research v3.1.0 - ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆï¼ˆv2.5.0ï¼‰

### ã€ŒSWOTåˆ†æã—ã¦ã€ã€Œæˆ¦ç•¥åˆ†æã—ã¦ã€ã€Œãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§èª¿æŸ»ã€

Deep ResearchãŒSWOT/3C/4P/5Forces/ValueChain/PESTELã®ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’è‡ªå‹•é¸æŠãƒ»é©ç”¨ã—ã¦æ§‹é€ åŒ–åˆ†æã‚’è¡Œã„ã¾ã™ã€‚

```typescript
import { deepResearch, ResearchEngine } from '@nahisaho/katashiro';

// æ–¹æ³•1: ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ï¼ˆè‡ªå‹•ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠï¼‰
const report = await deepResearch('AIæ¥­ç•Œã¸ã®æ–°è¦å‚å…¥æˆ¦ç•¥ã‚’åˆ†æã—ã¦', {
  framework: 'auto',  // è‡ªå‹•é¸æŠï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
  // framework: 'swot',  // SWOTåˆ†æã‚’å¼·åˆ¶
  // framework: '3c',    // 3Cåˆ†æã‚’å¼·åˆ¶
  // framework: 'none',  // ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—
  maxIterations: 5,
  tokenBudget: 500_000,
});

console.log(report.markdown);  // ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆ
console.log(report.metadata.frameworkUsed);  // ä½¿ç”¨ã•ã‚ŒãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
```

**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯è‡ªå‹•é¸æŠãƒ­ã‚¸ãƒƒã‚¯**:

| ã‚¯ã‚¨ãƒªã‚¿ã‚¤ãƒ— | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¾‹ | é¸æŠã•ã‚Œã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
|------------|-------------|------------------------|
| strategy | æˆ¦ç•¥ã€å‚å…¥ã€ç«¶äº‰å„ªä½ | SWOT |
| market | å¸‚å ´ã€é¡§å®¢ã€ãƒ‹ãƒ¼ã‚º | 3C |
| competitor | ç«¶åˆã€ãƒ©ã‚¤ãƒãƒ«ã€ã‚·ã‚§ã‚¢ | 5Forces |
| product | è£½å“ã€ã‚µãƒ¼ãƒ“ã‚¹ã€ä¾¡æ ¼ | 4P |
| internal | çµ„ç¹”ã€ãƒ—ãƒ­ã‚»ã‚¹ã€èƒ½åŠ› | ValueChain |
| external | æ”¿æ²»ã€çµŒæ¸ˆã€æŠ€è¡“å‹•å‘ | PESTEL |

**å‡ºåŠ›ä¾‹ï¼ˆSWOTåˆ†ææ™‚ï¼‰**:

```markdown
## SWOTåˆ†æ

### å¼·ã¿ (Strengths)
- æŠ€è¡“åŠ›ã®é«˜ã•ï¼ˆ3ä»¶ã®ã‚½ãƒ¼ã‚¹ï¼‰
- ãƒ–ãƒ©ãƒ³ãƒ‰èªçŸ¥åº¦ï¼ˆ2ä»¶ã®ã‚½ãƒ¼ã‚¹ï¼‰

### å¼±ã¿ (Weaknesses)
- è²©å£²ãƒãƒ£ãƒãƒ«ã®é™å®šï¼ˆ2ä»¶ã®ã‚½ãƒ¼ã‚¹ï¼‰

### æ©Ÿä¼š (Opportunities)
- å¸‚å ´æˆé•·ï¼ˆ4ä»¶ã®ã‚½ãƒ¼ã‚¹ï¼‰

### è„…å¨ (Threats)
- ç«¶åˆã®å‚å…¥ï¼ˆ3ä»¶ã®ã‚½ãƒ¼ã‚¹ï¼‰

## ã‚¯ãƒ­ã‚¹SWOTæˆ¦ç•¥

### SOæˆ¦ç•¥ï¼ˆå¼·ã¿Ã—æ©Ÿä¼šï¼‰
- æŠ€è¡“åŠ›ã‚’æ´»ã‹ã—ãŸæ–°å¸‚å ´é–‹æ‹“

### WOæˆ¦ç•¥ï¼ˆå¼±ã¿Ã—æ©Ÿä¼šï¼‰
- ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã«ã‚ˆã‚‹è²©å£²ç¶²æ‹¡å¤§

### STæˆ¦ç•¥ï¼ˆå¼·ã¿Ã—è„…å¨ï¼‰
- ãƒ–ãƒ©ãƒ³ãƒ‰åŠ›ã§å·®åˆ¥åŒ–

### WTæˆ¦ç•¥ï¼ˆå¼±ã¿Ã—è„…å¨ï¼‰
- ãƒ‹ãƒƒãƒå¸‚å ´ã¸ã®é›†ä¸­
```

**ResearchEngineã§ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–**:

```typescript
const engine = new ResearchEngine({ /* config */ });

engine.on('framework_selected', (event) => {
  console.log(`é¸æŠã•ã‚ŒãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: ${event.framework}`);
  console.log(`ã‚¯ã‚¨ãƒªã‚¿ã‚¤ãƒ—: ${event.queryType}`);
});

const report = await engine.research('ç«¶åˆåˆ†æ');
```

---

## ğŸ”§ DeepResearchå¼·åŒ–æ©Ÿèƒ½ï¼ˆv2.2.0ï¼‰

### ã€Œã‚¨ãƒ©ãƒ¼è€æ€§ã®ã‚ã‚‹èª¿æŸ»ã€ã€Œä¿¡é ¼æ€§ã®é«˜ã„èª¿æŸ»ã€

DeepResearchOrchestratorã‚’ä½¿ç”¨ã—ã¦ã€ãƒªãƒˆãƒ©ã‚¤ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’çµ±åˆã—ãŸå …ç‰¢ãªèª¿æŸ»ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```typescript
import { DeepResearchOrchestrator } from '@nahisaho/katashiro';

const orchestrator = new DeepResearchOrchestrator({
  maxConcurrency: 5,
  maxRetries: 3,
  cacheEnabled: true,
});

const result = await orchestrator.research('AIã®æœ€æ–°å‹•å‘');
console.log('Findings:', result.findings);
console.log('Cache hits:', result.stats.cacheHits);
```

### ã€Œãƒªãƒˆãƒ©ã‚¤ä»˜ãã§å®Ÿè¡Œã€ã€Œã‚¨ãƒ©ãƒ¼æ™‚ã«å†è©¦è¡Œã€

RetryHandlerã§æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ãƒªãƒˆãƒ©ã‚¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```typescript
import { RetryHandler } from '@nahisaho/katashiro';

const retryHandler = new RetryHandler({
  maxRetries: 5,
  initialBackoff: 1000,
  maxBackoff: 60000,
});

const result = await retryHandler.execute(async () => {
  return await fetchData(url);
});
```

### ã€Œãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä»˜ãã§å–å¾—ã€ã€Œã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å–å¾—ã€

FallbackHandlerã§Wayback Machineç­‰ã®ä»£æ›¿ã‚½ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

```typescript
import { FallbackHandler, WaybackMachineClient } from '@nahisaho/katashiro';

const fallback = new FallbackHandler({
  strategies: ['wayback', 'cached'],
});

const result = await fallback.fetchWithFallback(url);
console.log('Source:', result.source);  // 'primary' or 'wayback'
```

### ã€Œä¸¦åˆ—ã§å‡¦ç†ã€ã€Œé«˜é€Ÿã«èª¿æŸ»ã€

ParallelExecutorã§å¤§è¦æ¨¡URLå‡¦ç†ã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã¾ã™ã€‚

```typescript
import { ParallelExecutor, DomainRateLimiter } from '@nahisaho/katashiro';

const executor = new ParallelExecutor({
  maxConcurrency: 10,
  domainConcurrency: 2,
});

const results = await executor.executeAll(urls, async (url) => {
  return await scraper.scrape(url);
});
```

### ã€Œãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã€ã€Œæ©Ÿå¯†æƒ…å ±ã‚’ãƒã‚¹ã‚¯ã—ã¦ã€

StructuredLoggerã§æ§‹é€ åŒ–ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã€SensitiveDataMaskerã§æ©Ÿå¯†æƒ…å ±ã‚’ãƒã‚¹ã‚­ãƒ³ã‚°ã—ã¾ã™ã€‚

```typescript
import { StructuredLogger, SensitiveDataMasker } from '@nahisaho/katashiro';

const logger = new StructuredLogger({ level: 'info', format: 'json' });
logger.info('Research started', { topic: 'AI' });

const masker = new SensitiveDataMasker();
const masked = masker.mask({ email: 'user@example.com' });
// { email: '***@***.com' }
```

### ã€Œrobots.txtã‚’ç¢ºèªã—ã¦ã€ã€Œã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯ã‚’ç¢ºèªã€

RobotsParserã§Webã‚µã‚¤ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’éµå®ˆã—ã¾ã™ã€‚

```typescript
import { RobotsParser } from '@nahisaho/katashiro';

const parser = new RobotsParser({ userAgent: 'KATASHIRO' });
const allowed = await parser.isAllowed('https://example.com/page');
```

### ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å–å¾—ã€ã€Œãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä¿å­˜ã€

ContentManagerã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’çµ±åˆã—ã¾ã™ã€‚

```typescript
import { ContentManager, CheckpointManager } from '@nahisaho/katashiro';

const manager = new ContentManager({ cacheDir: './.cache' });
const content = await manager.getOrFetch(url, () => scraper.scrape(url));

// ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä¿å­˜ãƒ»å¾©å…ƒ
await manager.saveCheckpoint('session-1', { processedUrls, findings });
const state = await manager.loadCheckpoint('session-1');
```

---

## ğŸ¤– LLMçµ±åˆï¼ˆv2.0.0ï¼‰

### ã€ŒLLMã§ç”Ÿæˆã—ã¦ã€ã€ŒAIã«èã„ã¦ã€

```typescript
import { LLMClient, PromptManager, TokenCounter } from '@nahisaho/katashiro';

// LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆOpenAI/Anthropic/Ollamaå¯¾å¿œï¼‰
const client = new LLMClient({ provider: 'openai', model: 'gpt-4' });
const response = await client.complete('è³ªå•å†…å®¹');

// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†
const prompts = new PromptManager();
const prompt = prompts.get('summarize', { text: 'é•·æ–‡' });

// ãƒˆãƒ¼ã‚¯ãƒ³ã‚«ã‚¦ãƒ³ãƒˆ
const tokens = new TokenCounter().count('ãƒ†ã‚­ã‚¹ãƒˆ');
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ï¼ˆv2.0.0ï¼‰

### ã€Œã‚³ãƒ¼ãƒ‰ã‚’å®‰å…¨ã«å®Ÿè¡Œã—ã¦ã€ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã€

```typescript
import { DockerExecutor, SecurityAnalyzer, ActionLogger } from '@nahisaho/katashiro';

// Dockerå†…ã§ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
const executor = new DockerExecutor();
const result = await executor.execute({ code: 'print("hello")' });

// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯åˆ†æ
const analyzer = new SecurityAnalyzer();
const analysis = await analyzer.analyze(action, context);

// ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç›£æŸ»ãƒ­ã‚°
const logger = new ActionLogger();
await logger.log(action, context, result);
```

---

## ğŸ“ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†ï¼ˆv2.0.0ï¼‰

### ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿æ›¸ãã—ã¦ã€ã€Œãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ“ä½œã€

```typescript
import { LocalWorkspace, DockerWorkspace, WorkspaceFactory } from '@nahisaho/katashiro';

// ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ 
const workspace = new LocalWorkspace('/path/to/workspace');
const content = await workspace.readFile('file.txt');
await workspace.writeFile('output.txt', content);

// Dockerå†…ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹
const dockerWs = new DockerWorkspace({ image: 'node:20' });
await dockerWs.writeFile('script.js', code);
```

---

## ğŸ“Š å¯è¦³æ¸¬æ€§ï¼ˆv2.0.0ï¼‰

### ã€Œãƒˆãƒ¬ãƒ¼ã‚¹ã€ã€Œãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€ã€Œãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã€

```typescript
import { Tracer, MetricsCollector, HealthChecker } from '@nahisaho/katashiro';

// åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
const tracer = new Tracer();
const span = tracer.startSpan('operation');
// ... å‡¦ç† ...
span.end();

// ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
const metrics = new MetricsCollector();
metrics.increment('requests');

// ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
const health = new HealthChecker();
const status = await health.check();
```

---

## ğŸ”„ è¤‡åˆã‚¿ã‚¹ã‚¯ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ç«¶åˆèª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ

ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œã€‡ã€‡ç¤¾ã«ã¤ã„ã¦èª¿æŸ»ã—ã¦ãƒ¬ãƒãƒ¼ãƒˆã«ã¾ã¨ã‚ã¦ã€

```
1. katashiro_search("ã€‡ã€‡ç¤¾ æœ€æ–° ãƒ‹ãƒ¥ãƒ¼ã‚¹")
2. katashiro_scrape(æ¤œç´¢çµæœã®URL)
3. katashiro_analyze(å–å¾—ã—ãŸãƒ†ã‚­ã‚¹ãƒˆ)
4. katashiro_extract_entities(å–å¾—ã—ãŸãƒ†ã‚­ã‚¹ãƒˆ)
5. katashiro_generate_report(åˆ†æçµæœ)
```

### è«–æ–‡è¦ç´„

ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œã“ã®URLã®è«–æ–‡ã‚’è¦ç´„ã—ã¦ã€

```
1. katashiro_scrape(URL)
2. katashiro_analyze(å–å¾—ã—ãŸãƒ†ã‚­ã‚¹ãƒˆ)
3. katashiro_summarize(å–å¾—ã—ãŸãƒ†ã‚­ã‚¹ãƒˆ)
```

### æŠ€è¡“èª¿æŸ»ã¨çŸ¥è­˜ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰

ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã€Œã€œã«ã¤ã„ã¦èª¿ã¹ã¦çŸ¥è­˜ã‚°ãƒ©ãƒ•ã«ä¿å­˜ã—ã¦ã€

```
1. katashiro_search(ã‚¯ã‚¨ãƒª)
2. katashiro_scrape(æ¤œç´¢çµæœ)
3. katashiro_extract_entities(ãƒ†ã‚­ã‚¹ãƒˆ)
4. katashiro_knowledge_add(ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£)
```

---

## ğŸ’» ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆTypeScriptï¼‰

```typescript
import { 
  WebScraper, 
  TextAnalyzer, 
  ReportGenerator,
  KnowledgeGraph,
  isOk 
} from '@nahisaho/katashiro';

// Webèª¿æŸ» â†’ åˆ†æ â†’ ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
async function research(url: string) {
  const scraper = new WebScraper();
  const analyzer = new TextAnalyzer();
  const generator = new ReportGenerator();

  const page = await scraper.scrape(url);
  if (isOk(page)) {
    const analysis = await analyzer.analyze(page.value.text);
    const report = await generator.generate({
      title: 'èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ',
      sections: [{ heading: 'åˆ†æçµæœ', content: analysis.value.summary }]
    });
    return report;
  }
}
```

---

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³
npm install @nahisaho/katashiro

# MCPã‚µãƒ¼ãƒãƒ¼
npm install @nahisaho/katashiro-mcp-server
```

## ğŸ–¥ï¸ CLIä½¿ç”¨æ³•

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ç›´æ¥ä½¿ç”¨ã§ãã¾ã™ï¼š

```bash
# Webæ¤œç´¢
npx katashiro search "æ¤œç´¢ã‚¯ã‚¨ãƒª"

# Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
npx katashiro scrape https://example.com

# ãƒ†ã‚­ã‚¹ãƒˆåˆ†æ
npx katashiro analyze "åˆ†æã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ"

# ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æŠ½å‡º
npx katashiro extract "ãƒ†ã‚­ã‚¹ãƒˆ"

# è¦ç´„
npx katashiro summarize "é•·ã„ãƒ†ã‚­ã‚¹ãƒˆ" --length 300

# Deep Researchï¼ˆv2.5.3: ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆå¯¾å¿œï¼‰
npx katashiro deep-research "èª¿æŸ»ãƒˆãƒ”ãƒƒã‚¯"
npx katashiro deep-research "AIå€«ç†" --iterations 5
npx katashiro deep-research "ç«¶åˆåˆ†æ" --framework swot
npx katashiro deep-research "å¸‚å ´èª¿æŸ»" --focus "ãƒˆãƒ¬ãƒ³ãƒ‰,ç«¶åˆ,é¡§å®¢"
```

### ğŸ¯ AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ¨å¥¨åˆ©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã€œã«ã¤ã„ã¦èª¿ã¹ã¦ã€ã€Œãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ã€ã¨ä¾é ¼ã—ãŸå ´åˆï¼š

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | æ¨å¥¨åº¦ | èª¬æ˜ |
|---------|-------|------|
| **CLIå®Ÿè¡Œ** | â­â­â­ | `npx katashiro deep-research`ã‚’ç›´æ¥å®Ÿè¡Œã—ã€çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ |
| **MCP Server** | â­â­â­ | MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å‘¼ã³å‡ºã—ï¼ˆè¨­å®šæ¸ˆã¿ã®å ´åˆï¼‰ |
| **ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ** | â­ | è¤‡é›‘ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦ãªå ´åˆã®ã¿ |

**æ¨å¥¨ãƒ•ãƒ­ãƒ¼:**
```
1. npx katashiro deep-research "ãƒˆãƒ”ãƒƒã‚¯" --iterations 5 ã‚’å®Ÿè¡Œ
2. çµæœï¼ˆMarkdownï¼‰ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
3. å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ã®åˆ†æãƒ»æ•´å½¢ã‚’å®Ÿæ–½
```

## VS Code MCPè¨­å®š

```json
{
  "mcp.servers": {
    "katashiro": {
      "command": "npx",
      "args": ["@nahisaho/katashiro-mcp-server"]
    }
  }
}
```

---

## ğŸ”§ é–‹ç™ºæ™‚ã®æ³¨æ„

### Resultå‹ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
import { Result, ok, err, isOk, isErr } from '@nahisaho/katashiro';

const result = await scraper.scrape(url);
if (isOk(result)) {
  // æˆåŠŸæ™‚ã®å‡¦ç†
  console.log(result.value);
} else {
  // ã‚¨ãƒ©ãƒ¼æ™‚ã®å‡¦ç†
  console.error(result.error);
}
```

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¾å­˜é–¢ä¿‚
```
@nahisaho/katashiro-core (ä¾å­˜ãªã—)
  â†“
collector, analyzer, generator, knowledge, feedback (coreã«ä¾å­˜)
  â†“
@nahisaho/katashiro (ã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³ - å…¨ã¦ã‚’å«ã‚€)
@nahisaho/katashiro-mcp-server (å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨)
```

---

**Project**: KATASHIRO
**npm**: @nahisaho/katashiro
**Updated**: 2026-01-17
**Version**: 2.5.1
